# This workflow will build a .NET project
# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-net

name: .NET

on:
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  build:

    runs-on: ubuntu-latest


    steps:
    - uses: actions/checkout@v3
    - name: Setup .NET
      uses: actions/setup-dotnet@v3
      with:
        dotnet-version: 6.0.x
    - name: Restore dependencies
      run: dotnet restore
    - name: Build
      run: dotnet build --no-restore
    - name: Publish
      run: dotnet publish GeolocationServire.BusinessLogicLayer/GeolocationServire.BusinessLogicLayer.csproj -c Release -o instructors
    - name: Upload a Build Artifact
      uses: actions/upload-artifact@v3
      with:
        name: instructors
        path: instructors/**
        if-no-files-found: error
    - name: copy file via ssh password
      uses: appleboy/scp-action@master
      with:
        host: 212.233.88.232
        username: "debian"
        key: "-----BEGIN OPENSSH PRIVATE KEY-----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-----END OPENSSH PRIVATE KEY-----"
        port: 22
        source: "instructors"
        target: "/home/debian/jjj"
